/**
 * @packageDocumentation
 * Implements the core consent management store using Zustand.
 * This module provides the main store creation and management functionality.
 */
import type { ContractsOutputs } from '@c15t/backend/contracts';
import type { TranslationConfig } from '@c15t/translations';
import type { ConsentManagerInterface } from './client/client-factory';
import type { StorageConfig } from './libs/cookie';
import { type GTMConfiguration } from './libs/gtm';
import type { IframeBlockerConfig } from './libs/iframe-blocker';
import { type Script } from './libs/script-loader';
import type { TrackingBlockerConfig } from './libs/tracking-blocker';
import type { PrivacyConsentState } from './store.type';
import type { Overrides } from './types';
import type { Callbacks } from './types/callbacks';
import type { ComplianceSettings } from './types/compliance';
import { type AllConsentNames } from './types/gdpr';
import type { LegalLinks } from './types/legal-links';
import type { User } from './types/user';
/**
 * Configuration options for the consent manager store.
 *
 * @remarks
 * These options control the behavior of the store,
 * including initialization, tracking blocker, and persistence.
 *
 * @public
 */
export interface StoreOptions {
    /**
     * Custom namespace for the store instance.
     * @default 'c15tStore'
     */
    namespace?: string;
    /** Information about the consent manager */
    config?: {
        pkg: string;
        version: string;
        mode: string;
        meta?: Record<string, unknown>;
    };
    /**
     * Initial GDPR consent types to activate.
     */
    initialGdprTypes?: AllConsentNames[];
    /**
     * Initial compliance settings for different regions.
     * @deprecated will be removed in v2.0 due to unused functionality
     */
    initialComplianceSettings?: Record<string, Partial<ComplianceSettings>>;
    /**
     * Configuration options for the tracking blocker system.
     *
     * @remarks
     * **Important:** The tracking blocker is automatically disabled when using the Script Loader
     * to prevent conflicts between the two systems. If you provide `scripts` in the store options,
     * or if you dynamically add scripts using `setScripts()`, the tracking blocker will be
     * destroyed to ensure proper script loading behavior.
     *
     * This interface controls how the tracking blocker intercepts and manages
     * network requests based on user consent. The blocker overrides global
     * `fetch` and `XMLHttpRequest` APIs to enforce consent requirements.
     *
     * @deprecated This interface is deprecated and will be removed in v2.0.
     * The default domain map will be empty in v2.0, requiring users to explicitly
     * specify domains to block. Use the new Script Loader
     * instead for more granular control over script loading based on consent.
     *
     * @see https://c15t.com/docs/frameworks/javascript/script-loader
     */
    trackingBlockerConfig?: TrackingBlockerConfig;
    /**
     * Configuration for the iframe blocker.
     * Controls how iframes are blocked based on consent settings.
     */
    iframeBlockerConfig?: IframeBlockerConfig;
    /**
     * Flag indicating if the consent manager is using the c15t.dev domain.
     * @default false
     * @deprecated will be removed in a future version
     */
    isConsentDomain?: boolean;
    /**
     * Google Tag Manager configuration.
     * @deprecated use {@link https://c15t.com/docs/integrations/google-tag-manager} instead
     */
    unstable_googleTagManager?: GTMConfiguration;
    /**
     * Whether to ignore geo location. Will always show the consent banner.
     * @default false
     */
    ignoreGeoLocation?: boolean;
    /**
     * Globally enable or disable the consent manager.
     *
     * @remarks
     * When set to `false`, c15t will not fetch location or consent banner
     * information from the backend and will treat all consents as granted
     * on the client side.
     *
     * This is useful when you want to temporarily disable consent handling
     * while still keeping the integration code in place.
     *
     * @default true
     */
    enabled?: boolean;
    /**
     * Initial Translation Config
     */
    initialTranslationConfig?: Partial<TranslationConfig>;
    /**
     * Translation configuration for the consent manager.
     */
    translationConfig?: TranslationConfig;
    /**
     * If showConsentBanner is fetched prior to the store being created, you can pass the initial data here.
     *
     * This is useful for server-side rendering (SSR) such as in @c15t/nextjs.
     */
    _initialData?: Promise<ContractsOutputs['consent']['showBanner'] | undefined>;
    /**
     * Callbacks for the consent manager.
     */
    callbacks?: Callbacks;
    /**
     * Dynamically load scripts based on consent state.
     * For scripts such as Google Tag Manager, Meta Pixel, etc.
     *
     * @see https://c15t.com/docs/frameworks/javascript/script-loader
     */
    scripts?: Script[];
    /**
     * Display links to various legal documents such as privacy policy, terms of service, etc across the consent manager.
     * This can be used to display links in the consent banner, dialog, etc.
     *
     * @defaultValue {}
     */
    legalLinks?: LegalLinks;
    /**
     * Storage configuration for consent persistence.
     *
     * @remarks
     * Configure how consent data is stored in localStorage and cookies.
     *
     * @example
     * ```typescript
     * const store = createConsentManagerStore(client, {
     *   storageConfig: {
     *     storageKey: 'my-consent',
     *     crossSubdomain: true,
     *     defaultExpiryDays: 180
     *   }
     * });
     * ```
     *
     * @see {@link StorageConfig} for available options
     */
    storageConfig?: StorageConfig;
    /**
     * The user's information.
     * Usually your own internal ID for the user from your auth provider
     *
     * @remarks
     * This can be set later using the {@link identifyUser} method.
     * @default undefined
     */
    user?: User;
    /**
     * Forcefully set values like country, region, language for the consent manager
     * These values will override the values detected from the browser.
     *
     * @defaultValue undefined
     */
    overrides?: Overrides;
}
export interface StoreConfig extends Pick<StoreOptions, 'trackingBlockerConfig'> {
}
/**
 * Creates a new consent manager store instance.
 *
 * @remarks
 * This function initializes a new consent management store with:
 * - Persistence through localStorage
 * - Initial state handling
 * - Consent management methods
 * - Privacy settings
 * - Compliance configuration
 *
 * The store is typically used through React hooks but can also be
 * accessed directly for non-React applications.
 *
 * @param namespace - Optional namespace for the store instance
 * @returns A Zustand store instance with consent management functionality
 *
 * @example
 * Basic usage:
 * ```typescript
 * const store = createConsentManagerStore();
 *
 * // Subscribe to state changes
 * const unsubscribe = store.subscribe(
 *   state => console.log('Consent updated:', state.consents)
 * );
 *
 * // Update consent
 * store.getState().setConsent('analytics', true);
 * ```
 *
 * @example
 * Custom namespace:
 * ```typescript
 * const store = createConsentManagerStore(client, 'MyApp');
 *
 * // Access from window
 * const state = window.MyApp.getState();
 * ```
 *
 * @public
 */
export declare const createConsentManagerStore: (manager: ConsentManagerInterface, options?: StoreOptions) => import("zustand").StoreApi<PrivacyConsentState>;
//# sourceMappingURL=store.d.ts.map