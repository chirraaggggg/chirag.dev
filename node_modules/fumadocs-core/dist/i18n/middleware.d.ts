import { NextProxy } from 'next/server';
import { I18nConfig } from './index.js';
import { NextURL } from 'next/dist/server/web/next-url';

interface MiddlewareOptions extends I18nConfig {
    /**
     * Either:
     * - A formatter object
     * - A function that adds the locale prefix to pathname
     */
    format?: URLFormatter | ((locale: string, pathname: string) => string);
    /**
     * the cookie to store locale code when `hideLocale` is set to `always`.
     */
    cookieName?: string;
}
interface URLFormatter {
    /**
     * get locale code from request URL
     */
    get: (url: NextURL) => string | undefined;
    /**
     * add locale code to request URL (which is missing the locale).
     */
    add: (url: NextURL, locale: string) => URL;
    /**
     * remove locale code from request URL
     */
    remove: (url: NextURL) => URL;
}
declare const DefaultFormatter: URLFormatter;
declare function createI18nMiddleware({ languages, defaultLanguage, format, cookieName, hideLocale, }: MiddlewareOptions): NextProxy;

export { DefaultFormatter, type URLFormatter, createI18nMiddleware };
