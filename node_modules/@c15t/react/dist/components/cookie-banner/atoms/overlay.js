import{jsx as e}from"react/jsx-runtime";import o from"clsx";import{forwardRef as r,useEffect as t,useState as l}from"react";import{useConsentManager as s}from"../../../hooks/use-consent-manager.js";import{useScrollLock as a}from"../../../hooks/use-scroll-lock.js";import{useStyles as m}from"../../../hooks/use-styles.js";import{useTheme as n}from"../../../hooks/use-theme.js";import i from"../cookie-banner.module.js";let u=r(({className:r,style:u,noStyle:y,asChild:c,...p},d)=>{let f,{showPopup:v}=s(),{disableAnimation:k,noStyle:b,scrollLock:j}=n(),[h,N]=l(!1);t(()=>{if(v)N(!0);else if(k)N(!1);else{let e=setTimeout(()=>{N(!1)},Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--banner-animation-duration")||"200",10));return()=>clearTimeout(e)}},[v,k]);let g=m("banner.overlay",{baseClassName:!(b||y)&&i.overlay,className:r,noStyle:b||y});f=b||y||k?void 0:h?i.overlayVisible:i.overlayHidden;let x=o(g.className,f);return a(!!(v&&j)),v&&j?e("div",{ref:d,...p,className:x,style:{...g.style,...u},"data-testid":"cookie-banner-overlay"}):null}),y=u;export{u as CookieBannerOverlay,y as Overlay};