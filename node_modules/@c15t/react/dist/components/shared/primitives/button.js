import{jsx as e}from"react/jsx-runtime";import{Slot as o}from"@radix-ui/react-slot";import{forwardRef as t,useCallback as s}from"react";import{useConsentManager as r}from"../../../hooks/use-consent-manager.js";import{useStyles as n}from"../../../hooks/use-styles.js";import{useTheme as a}from"../../../hooks/use-theme.js";import{buttonVariants as c}from"../ui/button/index.js";let i=t(({asChild:t,className:i,style:m,noStyle:l,action:u,themeKey:f,baseClassName:p,variant:k="neutral",mode:y="stroke",size:b="small",onClick:d,closeCookieBanner:h=!1,closeCustomizeDialog:C=!1,category:j,...g},x)=>{let{saveConsents:N,setShowPopup:w,setIsPrivacyDialogOpen:q,setConsent:B}=r(),{noStyle:E}=a(),S=n(f??"button",{baseClassName:[!(E||l)&&c({variant:k,mode:y,size:b}).root()],style:{...m},className:i,noStyle:E||l});if(!j&&"set-consent"===u)throw Error("Category is required for set-consent action");let v=s(e=>{if(h&&w(!1),C&&q(!1),"open-consent-dialog"===u&&(q(!0),w(!1,!0)),d&&d(e),"open-consent-dialog"!==u)switch(u){case"accept-consent":N("all");break;case"reject-consent":N("necessary");break;case"custom-consent":N("custom");break;case"set-consent":if(!j)throw Error("Category is required for set-consent action");B(j,!0)}},[h,C,d,N,q,w,u]);return e(t?o:"button",{ref:x,...S,onClick:v,...g})});i.displayName="ConsentButton";export{i as ConsentButton};