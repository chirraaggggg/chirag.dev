'use client';
import{Fragment as e,jsx as o,jsxs as t}from"react/jsx-runtime";import r from"clsx";import{useEffect as l,useRef as s,useState as i}from"react";import{createPortal as a}from"react-dom";import{LocalThemeContext as m}from"../../../context/theme-context.js";import{useTextDirection as n}from"../../../hooks/index.js";import{useConsentManager as c}from"../../../hooks/use-consent-manager.js";import{useFocusTrap as d}from"../../../hooks/use-focus-trap.js";import{useScrollLock as u}from"../../../hooks/use-scroll-lock.js";import{useStyles as p}from"../../../hooks/use-styles.js";import{useTheme as f}from"../../../hooks/use-theme.js";import g from"../consent-manager-dialog.module.js";import{Overlay as h}from"./overlay.js";let b=({children:b,open:j,noStyle:y,disableAnimation:k,scrollLock:x=!0,trapFocus:v=!0,overlay:N,className:C,style:L,theme:S,...V})=>{let A=f(),F={...A.theme,...S},H=k??A.disableAnimation??!1,I=y??A.noStyle??!1,P=x??A.scrollLock??!0,R=v??A.trapFocus??!0,{isPrivacyDialogOpen:T,translationConfig:D}=c(),E=n(D.defaultLanguage),M=j??T,[q,w]=i(!1),z=s(null),B=s(null),[G,J]=i(!1);l(()=>{J(!0)},[]),l(()=>{if(M)w(!0);else if(H)w(!1);else{let e=setTimeout(()=>w(!1),Number.parseInt(getComputedStyle(document.documentElement).getPropertyValue("--dialog-animation-duration")||"200",10));return()=>clearTimeout(e)}},[M,H]),d(M&&R,z),u(M&&P);let K=p("dialog.root",{baseClassName:void 0,className:r(g.root,!H&&(q?g.dialogVisible:g.dialogHidden),C),style:L,noStyle:I}),O=o(m.Provider,{value:{disableAnimation:H,noStyle:I,scrollLock:P,trapFocus:R,theme:F},children:M&&t(e,{children:[!1===N?null:N??o(h,{}),o("dialog",{ref:z,...V,...K,className:K.className,"aria-labelledby":"privacy-settings-title",tabIndex:-1,dir:E,children:o("div",{ref:B,className:r(g.container,!H&&q?g.contentVisible:g.contentHidden),children:b})})]})});return G?a(O,document.body):null},j=b;export{b as ConsentManagerDialogRoot,j as Root};