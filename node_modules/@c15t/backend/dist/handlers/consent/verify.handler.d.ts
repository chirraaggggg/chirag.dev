import type { z } from 'zod';
/**
 * Handles verification of consent records.
 *
 * This handler checks if a subject has given valid consent for a specific policy
 * and domain, optionally verifying specific purpose preferences.
 *
 * @throws {DoubleTieError} When:
 * - Subject creation fails
 * - Domain is not found
 * - Policy is not found or invalid
 * - Database query fails
 *
 * @example
 * ```ts
 * // Verify cookie banner consent
 * const response = await verifyConsent({
 *   type: 'cookie_banner',
 *   domain: 'example.com',
 *   preferences: ['analytics', 'marketing']
 * });
 * ```
 */
export declare const verifyConsent: import("@orpc/server").ImplementedProcedure<Record<never, never>, Record<never, never>, z.ZodObject<{
    subjectId: z.ZodOptional<z.ZodString>;
    externalSubjectId: z.ZodOptional<z.ZodString>;
    domain: z.ZodString;
    type: z.ZodEnum<{
        cookie_banner: "cookie_banner";
        privacy_policy: "privacy_policy";
        dpa: "dpa";
        terms_and_conditions: "terms_and_conditions";
        marketing_communications: "marketing_communications";
        age_verification: "age_verification";
        other: "other";
    }>;
    policyId: z.ZodOptional<z.ZodString>;
    preferences: z.ZodOptional<z.ZodArray<z.ZodString>>;
}, z.core.$strict>, z.ZodObject<{
    isValid: z.ZodBoolean;
    reasons: z.ZodOptional<z.ZodArray<z.ZodString>>;
    consent: z.ZodOptional<z.ZodObject<{
        id: z.ZodString;
        purposeIds: z.ZodArray<z.ZodString>;
    }, z.core.$loose>>;
}, z.core.$strip>, import("@orpc/contract").MergedErrorMap<Record<never, never>, {
    INPUT_VALIDATION_FAILED: {
        status: number;
        data: z.ZodObject<{
            formErrors: z.ZodArray<z.ZodString>;
            fieldErrors: z.ZodRecord<z.ZodString, z.ZodOptional<z.ZodArray<z.ZodString>>>;
        }, z.core.$strip>;
        error: string;
    };
    SUBJECT_NOT_FOUND: {
        status: number;
        data: z.ZodObject<{
            subjectId: z.ZodOptional<z.ZodString>;
            externalSubjectId: z.ZodOptional<z.ZodString>;
        }, z.core.$strip>;
        error: string;
    };
    DOMAIN_NOT_FOUND: {
        status: number;
        data: z.ZodObject<{
            domain: z.ZodString;
        }, z.core.$strip>;
        error: string;
    };
    POLICY_NOT_FOUND: {
        status: number;
        data: z.ZodObject<{
            policyId: z.ZodString;
            type: z.ZodString;
        }, z.core.$strip>;
        error: string;
    };
    PURPOSES_NOT_FOUND: {
        status: number;
        data: z.ZodObject<{
            preferences: z.ZodArray<z.ZodString>;
            foundPurposes: z.ZodArray<z.ZodString>;
        }, z.core.$strip>;
        error: string;
    };
    COOKIE_BANNER_PREFERENCES_REQUIRED: {
        status: number;
        data: z.ZodObject<{
            type: z.ZodLiteral<"cookie_banner">;
        }, z.core.$strip>;
        error: string;
    };
    NO_CONSENT_FOUND: {
        status: number;
        data: z.ZodObject<{
            policyId: z.ZodString;
            subjectId: z.ZodString;
            domainId: z.ZodString;
        }, z.core.$strip>;
        error: string;
    };
}>, Record<never, never>>;
//# sourceMappingURL=verify.handler.d.ts.map