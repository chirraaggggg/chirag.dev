import type { Registry } from './types';
export declare const createRegistry: (ctx: Registry) => {
    findDomainByName: (name: string) => Promise<{
        id: string;
        name: string;
        description: string | null;
        allowedOrigins: unknown;
        isVerified: boolean;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
    } | null>;
    findOrCreateDomain: (name: string) => Promise<{
        id: string;
        name: string;
        description: string | null;
        allowedOrigins: unknown;
        isVerified: boolean;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
    }>;
    findConsentPolicyById: (policyId: string) => Promise<{
        id: string;
        version: string;
        type: string;
        name: string;
        effectiveDate: Date;
        expirationDate: Date | null;
        content: string;
        contentHash: string;
        isActive: boolean;
        createdAt: Date;
    } | null>;
    findOrCreatePolicy: (type: import("../schema").PolicyType) => Promise<{
        id: string;
        version: string;
        type: string;
        name: string;
        effectiveDate: Date;
        expirationDate: Date | null;
        content: string;
        contentHash: string;
        isActive: boolean;
        createdAt: Date;
    }>;
    findOrCreateConsentPurposeByCode: (code: string) => Promise<{
        id: string;
        code: string;
        name: string;
        description: string;
        isEssential: boolean;
        dataCategory: string | null;
        legalBasis: string | null;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
    }>;
    createConsent: (consent: Omit<import("../schema").Consent, "id" | "createdAt"> & Partial<import("../schema").Consent>) => Promise<{
        id: string;
        subjectId: string;
        domainId: string;
        policyId: string | null;
        purposeIds: unknown;
        metadata: unknown;
        ipAddress: string | null;
        userAgent: string | null;
        status: string;
        withdrawalReason: string | null;
        givenAt: Date;
        validUntil: Date | null;
        isActive: boolean;
    }>;
    findOrCreateSubject: ({ subjectId, externalSubjectId, identityProvider, ipAddress, }: {
        subjectId?: string;
        externalSubjectId?: string;
        identityProvider?: string;
        ipAddress?: string;
    }) => Promise<{
        id: string;
        isIdentified: boolean;
        externalId: string | null;
        identityProvider: string | null;
        lastIpAddress: string | null;
        subjectTimezone: string | null;
        createdAt: Date;
        updatedAt: Date;
    } | null>;
    createAuditLog: (auditLog: Omit<import("../schema").AuditLog, "id" | "createdAt"> & Partial<import("../schema").AuditLog>) => Promise<{
        id: string;
        entityType: string;
        entityId: string;
        actionType: string;
        subjectId: string | null;
        ipAddress: string | null;
        userAgent: string | null;
        changes: unknown;
        metadata: unknown;
        createdAt: Date;
        eventTimezone: string;
    }>;
};
//# sourceMappingURL=index.d.ts.map