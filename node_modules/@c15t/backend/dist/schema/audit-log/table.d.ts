import { type Field } from '../../pkgs/data-model';
import type { C15TOptions } from '../../types';
/**
 * Generates the database table configuration for the consent audit log entity.
 *
 * This function creates a schema definition that includes all standard audit log fields
 * and any additional fields from plugins or configuration. The resulting schema is used
 * for database migrations, schema validation, and query building.
 *
 * @param options - c15t configuration options that may contain audit log table customizations
 * @param auditLogFields - Additional fields from plugins to include in the audit log table
 * @returns A complete table schema definition with fields, model name, and metadata
 *
 * @example
 * ```typescript
 * const auditLogTableSchema = getAuditLogTable(c15tOptions);
 * // Use the schema for migrations or data access
 * const migrationPlans = generateMigrations(auditLogTableSchema);
 * ```
 */
export declare function getAuditLogTable(options: C15TOptions, auditLogFields?: Record<string, Field>): {
    /**
     * The name of the audit log table in the database, configurable through options
     */
    entityName: string;
    /**
     * The ID prefix for the audit log table
     * Used to generate unique prefixed IDs
     */
    entityPrefix: string;
    /**
     * The schema for the audit log table
     */
    schema: import("zod").ZodObject<{
        id: import("zod").ZodString;
        entityType: import("zod").ZodString;
        entityId: import("zod").ZodString;
        actionType: import("zod").ZodString;
        subjectId: import("zod").ZodOptional<import("zod").ZodString>;
        ipAddress: import("zod").ZodOptional<import("zod").ZodString>;
        userAgent: import("zod").ZodOptional<import("zod").ZodString>;
        changes: import("zod").ZodOptional<import("zod").ZodRecord<import("zod").ZodString, import("zod").ZodUnknown>>;
        metadata: import("zod").ZodOptional<import("zod").ZodRecord<import("zod").ZodString, import("zod").ZodUnknown>>;
        createdAt: import("zod").ZodPrefault<import("zod").ZodDate>;
    }, import("zod/v4/core").$strip>;
    /**
     * Field definitions for the consent audit log table
     */
    fields: {
        /**
         * Type of entity this audit log entry is about (e.g., 'consent', 'subject', 'consentPurpose')
         */
        entityType: {
            type: string;
            required: boolean;
            fieldName: string;
        };
        /**
         * ID of the entity this audit log entry is about
         */
        entityId: {
            type: string;
            required: boolean;
            fieldName: string;
        };
        /**
         * Type of action that was performed on the entity
         * Common values: 'create', 'update', 'delete', 'view'
         */
        actionType: {
            type: string;
            required: boolean;
            fieldName: string;
        };
        /**
         * Optional ID of the subject who performed the action
         */
        subjectId: {
            type: string;
            required: boolean;
            fieldName: string;
            references: {
                model: string;
                field: string;
            };
        };
        /**
         * IP address from which the action was performed
         */
        ipAddress: {
            type: string;
            required: boolean;
            fieldName: string;
        };
        /**
         * Subject agent (browser/device) from which the action was performed
         */
        userAgent: {
            type: string;
            required: boolean;
            fieldName: string;
        };
        /**
         * Detailed changes made to the entity
         * For updates, this typically contains before/after values
         */
        changes: {
            type: string;
            required: boolean;
            fieldName: string;
        };
        /**
         * Additional metadata about the action
         */
        metadata: {
            type: string;
            required: boolean;
            fieldName: string;
        };
        /**
         * When the audit log entry was created
         * Automatically set to current time by default
         */
        createdAt: {
            type: string;
            defaultValue: () => Date;
            required: boolean;
            fieldName: string;
        };
        /**
         * Timezone where the audit event occurred
         */
        eventTimezone: {
            type: string;
            required: boolean;
            defaultValue: "UTC";
            fieldName: string;
        };
    };
    /**
     * Add indexes for better query performance
     */
    indexes: {
        name: string;
        fields: string[];
    }[];
    /**
     * Execution order during migrations (lower numbers run first)
     * Audit log table needs to be created after the subject table it references
     */
    order: number;
};
//# sourceMappingURL=table.d.ts.map