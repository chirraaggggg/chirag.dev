import type { Logger } from '@c15t/logger';
import { type Kysely, type Migration } from 'kysely';
import type { Adapter } from '../../..';
import type { C15TOptions } from '../../../../../types';
import type { Database } from '../types';
/**
 * Database configuration for tests
 */
export interface DbConfig {
    name: string;
    instance: Kysely<Database>;
    type: string;
    connectionString?: string;
    cleanup?: () => Promise<void>;
    skipGenerateIdTest?: boolean;
    migrationErrorPattern?: RegExp;
    disableTransactions?: boolean;
}
/**
 * Expected tables to be created by the migrations.
 * These match the tables created by the actual migration system.
 */
export declare const expectedTables: string[];
/**
 * Helper to create c15t options for a database
 */
export declare function createOptions(dbConfig: DbConfig): C15TOptions;
/**
 * Function to verify that required tables exist
 */
export declare function verifyRequiredTables(tables: string[], logger: Logger): Promise<void>;
/**
 * Run migrations on a database
 */
export declare function runMigrations(db: Kysely<Database>, migrationTableName: string, errorPattern?: RegExp, disableTransactions?: boolean): Promise<void>;
/**
 * Create test migrations for database setup
 */
export declare function createTestMigrations(): Record<string, Migration>;
/**
 * Run tests for a database adapter
 */
export declare function runAdapterTests(opts: {
    name: string;
    getAdapter: () => Promise<Adapter>;
    skipGenerateIdTest?: boolean;
    skipTransactionTest?: boolean;
}): Promise<void>;
//# sourceMappingURL=test-utils.d.ts.map