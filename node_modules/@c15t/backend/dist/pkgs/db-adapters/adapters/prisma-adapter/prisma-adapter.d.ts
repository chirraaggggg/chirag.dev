import type { C15TOptions } from '../../../../types';
import type { Adapter } from '../../types';
/**
 * Configuration options for the Prisma adapter
 *
 * This interface defines the configuration options for the Prisma adapter,
 * including which database provider to use.
 *
 * @example
 * ```typescript
 * const config: PrismaConfig = {
 *   provider: 'postgresql'
 * };
 * ```
 */
export interface PrismaConfig {
    /**
     * Database provider.
     *
     * Specifies which database engine the Prisma client is configured to use.
     * This affects how queries are constructed and executed.
     */
    provider: 'sqlite' | 'cockroachdb' | 'mysql' | 'postgresql' | 'sqlserver' | 'mongodb';
}
/**
 * Type alias for a Prisma client instance
 *
 * This represents a generic Prisma client that can be used with the adapter.
 * The actual shape will depend on your specific Prisma schema.
 */
type PrismaClient = Record<string, unknown>;
/**
 * Creates a c15t adapter for Prisma ORM
 *
 * This factory function creates an adapter that allows c15t to use Prisma ORM
 * as its database layer. It translates c15t operations into Prisma queries.
 *
 * @param prisma - The Prisma client instance
 * @param config - Configuration for the Prisma adapter
 * @returns A c15t adapter factory function
 *
 * @example
 * ```typescript
 * import { PrismaClient } from '@prisma/client';
 * import { c15tInstance } from '@c15t/backend';
 * import { prismaAdapter } from '@c15t/db/adapters/prisma';
 *
 * // Create a Prisma client
 * const prisma = new PrismaClient();
 *
 * // Create the c15t instance with Prisma adapter
 * const c15t = c15tInstance({
 *   storage: prismaAdapter(prisma, { provider: 'postgresql' }),
 * });
 *
 * // Use in your application
 * export default c15tInstance.handler;
 * ```
 *
 * @deprecated Will be removed in the next major version. Update to `@c15t/backend/v2`, view migration guide for more details.
 * @see https://c15t.com/docs/self-host/migrate-from-v1
 */
export declare const prismaAdapter: (prisma: PrismaClient, config: PrismaConfig) => (options: C15TOptions) => {
    id: string;
    /**
     * Creates a new record in the database
     *
     * @param data - The data for the create operation
     * @returns The created record
     * @throws {DoubleTieError} When the model does not exist in the database
     */
    create(data: any): Promise<unknown>;
    /**
     * Finds a single record matching the where conditions
     *
     * @param data - The data for the find operation
     * @returns The found record or null if not found
     * @throws {DoubleTieError} When the model does not exist in the database
     */
    findOne(data: any): Promise<unknown>;
    /**
     * Finds multiple records matching the where conditions
     *
     * @param data - The data for the find operation
     * @returns Array of matching records
     * @throws {DoubleTieError} When the model does not exist in the database
     */
    findMany(data: any): Promise<unknown[]>;
    /**
     * Counts records matching the where conditions
     *
     * @param data - The data for the count operation
     * @returns The count of matching records
     * @throws {DoubleTieError} When the model does not exist in the database
     */
    count(data: any): Promise<any>;
    /**
     * Updates a single record matching the where conditions
     *
     * @param data - The data for the update operation
     * @returns The updated record or null if not found
     * @throws {DoubleTieError} When the model does not exist in the database
     */
    update(data: any): Promise<unknown>;
    /**
     * Updates multiple records matching the where conditions
     *
     * @param data - The data for the update operation
     * @returns The number of records updated
     * @throws {DoubleTieError} When the model does not exist in the database
     */
    updateMany(data: any): Promise<number>;
    /**
     * Deletes a single record matching the where conditions
     *
     * @param data - The data for the delete operation
     * @throws {DoubleTieError} When the model does not exist in the database (but catches and ignores if record not found)
     */
    delete(data: any): Promise<void>;
    /**
     * Deletes multiple records matching the where conditions
     *
     * @param data - The data for the delete operation
     * @returns The number of records deleted
     * @throws {DoubleTieError} When the model does not exist in the database
     */
    deleteMany(data: any): Promise<number>;
    /**
     * Executes a function within a database transaction
     *
     * This method wraps Prisma's transaction functionality to provide a consistent interface
     * for executing multiple database operations atomically.
     *
     * @typeParam ResultType - The type of data returned by the transaction
     * @param data - The transaction data containing the callback function
     * @returns A promise that resolves with the result of the callback function
     * @throws {Error} If the transaction fails to complete
     */
    transaction<ResultType>(data: {
        callback: (transactionAdapter: Adapter) => Promise<ResultType>;
    }): Promise<ResultType>;
    options: PrismaConfig;
};
export {};
//# sourceMappingURL=prisma-adapter.d.ts.map