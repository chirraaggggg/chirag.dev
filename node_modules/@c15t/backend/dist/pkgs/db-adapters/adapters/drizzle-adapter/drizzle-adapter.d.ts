import type { C15TOptions } from '../../../types';
/**
 * Database interface for Drizzle ORM integration
 *
 * This generic interface represents a Drizzle ORM database connection.
 * It allows the adapter to work with different Drizzle providers.
 *
 * @remarks
 * The interface uses an index signature to allow for dynamic access to
 * the database's properties and methods.
 */
export interface DB {
    [key: string]: unknown;
}
/**
 * Configuration options for the Drizzle adapter
 *
 * @example
 * ```typescript
 * // Basic Drizzle adapter configuration
 * const config: DrizzleAdapterConfig = {
 *   provider: 'pg', // PostgreSQL
 *   usePlural: true // Use plural table names
 * };
 *
 * // Configuration with explicit schema
 * const configWithSchema: DrizzleAdapterConfig = {
 *   provider: 'mysql',
 *   schema: {
 *     subjects: subjects, // Drizzle schema objects
 *     consents: consents,
 *     purposes: purposes
 *   }
 * };
 * ```
 */
export interface DrizzleAdapterConfig {
    /**
     * The schema object that defines the tables and fields
     *
     * @remarks
     * If not provided, the adapter will attempt to use `db._.fullSchema`
     */
    schema?: Record<string, unknown>;
    /**
     * The database provider
     *
     * @remarks
     * Different providers have different SQL dialects and features
     */
    provider: 'pg' | 'mysql' | 'sqlite';
    /**
     * If the table names in the schema are plural
     * set this to true. For example, if the schema
     * has an object with a key "subjects" instead of "subject"
     *
     * @default false
     */
    usePlural?: boolean;
}
/**
 * Creates a c15t adapter for Drizzle ORM
 *
 * This factory function creates an adapter that allows c15t to use Drizzle ORM
 * as its database layer. It supports PostgreSQL, MySQL, and SQLite.
 *
 * @param db - The Drizzle database instance
 * @param config - Configuration options for the Drizzle adapter
 * @returns A c15t adapter factory function
 *
 * @example
 * ```typescript
 * import { drizzle } from 'drizzle-orm/postgres-js';
 * import postgres from 'postgres';
 * import { drizzleAdapter } from '@c15t/db/adapters/drizzle';
 * import * as schema from './schema';
 * import { c15tInstance } from '@c15t/backend';
 *
 * // Create a Postgres connection
 * const connection = postgres('postgresql://user:password@localhost:5432/db');
 * const db = drizzle(connection, { schema });
 *
 * // Create the c15t instance with Drizzle adapter
 * const c15t = c15tInstance({
 *   storage: drizzleAdapter(db, {
 *     provider: 'pg',
 *     schema, // Pass your Drizzle schema
 *     usePlural: true
 *   }),
 * });
 *
 * // Use in your application
 * export default c15tInstance.handler;
 * ```
 *
 * @example
 * ```typescript
 * // Using with MySQL
 * import { drizzle } from 'drizzle-orm/mysql2';
 * import mysql from 'mysql2/promise';
 * import { c15tInstance } from '@c15t/backend';
 *
 * const connection = await mysql.createConnection({
 *   host: 'localhost',
 *   user: 'root',
 *   database: 'c15t'
 * });
 *
 * const db = drizzle(connection);
 *
 * const c15t = c15tInstance({
 *   storage: drizzleAdapter(db, {
 *     provider: 'mysql'
 *   }),
 * });
 * ```
 *
 * @deprecated Will be removed in the next major version. Update to `@c15t/backend/v2`, view migration guide for more details.
 * @see https://c15t.com/docs/self-host/migrate-from-v1
 */
export declare const drizzleAdapter: (db: DB, config: DrizzleAdapterConfig) => (options: C15TOptions) => Adapter;
//# sourceMappingURL=drizzle-adapter.d.ts.map