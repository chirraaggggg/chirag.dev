import type { EntityName } from '..';
import type { GenericEndpointContext } from '../../types';
import type { DatabaseHook, HookOperation, HookPhase } from './types';
/**
 * Process hooks for a given phase and operation.
 *
 * @typeParam TEntityData - Type of the entity data being processed
 *
 * @param data - The data to process through hooks
 * @param model - The entity type/model name
 * @param operation - The operation being performed (create/update)
 * @param phase - The hook execution phase (before/after)
 * @param hooks - Array of hook sets to process
 * @param context - Optional request context
 * @returns The processed data, potentially transformed, or null if aborted
 *
 * @remarks
 * This core utility function handles the execution of hooks for various
 * database operations. It traverses all registered hooks for the specified
 * entity, operation, and phase, applying transformations or aborting as needed.
 *
 * @example
 * ```typescript
 * const processedData = await processHooks(
 *   { name: 'Alice' },
 *   'subject',
 *   'create',
 *   'before',
 *   registeredHooks
 * );
 * ```
 */
export declare function processHooks<TEntityName extends EntityName, TEntityData extends Record<string, unknown>>(data: TEntityData, model: TEntityName, operation: HookOperation, phase: HookPhase, hooks: DatabaseHook[], context?: GenericEndpointContext): Promise<TEntityData | null>;
/**
 * Process hooks for multiple records.
 *
 * @typeParam TEntityName - Type of the entity name
 * @typeParam TEntityData - Type of the entity data
 *
 * @param records - Array of records to process
 * @param model - The entity type/model name
 * @param hooks - Array of hook sets to process
 * @param context - Optional request context
 * @returns Promise that resolves when all hooks have been processed
 *
 * @remarks
 * This utility function handles processing after-update hooks for a batch
 * of records, ensuring each record goes through the appropriate hooks.
 *
 * @example
 * ```typescript
 * // Process 'after update' hooks for multiple subjects
 * await processAfterHooksForMany(
 *   updatedSubjects,
 *   'subject',
 *   registeredHooks,
 *   { batchId: 'sub_x1pftyoufsm7xgo1kv' }
 * );
 * ```
 */
export declare function processAfterHooksForMany<TEntityName extends EntityName, TEntityData extends Record<string, unknown>>(records: TEntityData[], model: TEntityName, hooks: DatabaseHook[], context?: GenericEndpointContext): Promise<void>;
//# sourceMappingURL=utils.d.ts.map