import { ORPCError } from '@orpc/server';
import type { DoubleTieErrorOptions } from '../types';
/**
 * Custom error class for DoubleTie errors that extends ORPCError.
 *
 * This class directly extends ORPCError to provide seamless integration with oRPC
 * while adding application-specific error properties and context.
 *
 * @remarks
 * The DoubleTieError is designed to be compatible with HTTP responses and API error handling
 * while providing rich context for debugging and error reporting.
 *
 * @example
 * ```typescript
 * // Create and throw a DoubleTie error
 * throw new DoubleTieError('Failed to update subject preferences', {
 *   code: ERROR_CODES.FAILED_TO_UPDATE_CONSENT,
 *   status: 400,
 *   meta: { subjectId: 'sub_x1pftyoufsm7xgo1kv', preferences: { analytics: true } }
 * });
 *
 * // Catch and handle a DoubleTie error
 * try {
 *   // some operation
 * } catch (err) {
 *   if (DoubleTieError.isDoubleTieError(err)) {
 *     console.error(`${err.code}: ${err.message} (${err.category})`);
 *   }
 * }
 * ```
 */
export declare class DoubleTieError extends ORPCError<string, Record<string, unknown>> {
    /**
     * Error category that groups related errors.
     * Defaults to 'unexpected' if not specified.
     *
     * @see ERROR_CATEGORIES for predefined categories
     */
    readonly category: string;
    /**
     * Additional metadata about the error.
     * Can contain any contextual information that might help debugging.
     */
    readonly meta: Record<string, unknown>;
    /**
     * HTTP status code for the error
     */
    readonly statusCode: number;
    /**
     * Creates a new DoubleTieError instance.
     *
     * @param message - Human-readable error message
     * @param options - Configuration options for the error
     * @param options.code - Error code identifying the error type
     * @param options.status - HTTP status code (defaults to 500)
     * @param options.category - Error category (defaults to 'unexpected')
     * @param options.cause - Original error that caused this error
     * @param options.meta - Additional metadata about the error
     *
     * @example
     * ```typescript
     * const error = new DoubleTieError('Authentication failed', {
     *   code: ERROR_CODES.UNAUTHORIZED,
     *   status: 401,
     *   category: ERROR_CATEGORIES.AUTH,
     *   meta: { userId: 'usr_abc123' }
     * });
     * ```
     */
    constructor(message: string, options?: DoubleTieErrorOptions);
    /**
     * Type guard to check if an unknown error is a DoubleTieError.
     *
     * @param error - The error to check
     * @returns True if the error is a DoubleTieError, false otherwise
     */
    static isDoubleTieError(error: unknown): error is DoubleTieError;
    /**
     * Convert the error to a JSON-serializable object matching oRPC's error format.
     * Override of the parent ORPCError toJSON method.
     */
    toJSON(): {
        code: string;
        message: string;
        status: number;
        defined: boolean;
        data: {
            cause?: {} | undefined;
            originalMessage?: string | undefined;
            stack?: string[] | undefined;
            category: string;
            meta: Record<string, unknown>;
        };
    };
    /**
     * Creates a DoubleTieError from an HTTP response object.
     *
     * @param response - The HTTP Response object
     * @param data - Optional response data that was already parsed
     * @returns A new DoubleTieError instance with information from the response
     */
    static fromResponse(response: Response, data?: unknown): DoubleTieError;
    /**
     * Creates a new error instance with additional metadata merged with the original.
     * Does not modify the original error instance.
     *
     * @param additionalMeta - Additional metadata to add to the error
     * @returns A new DoubleTieError instance with the combined metadata
     */
    withMeta(additionalMeta: Record<string, unknown>): DoubleTieError;
    /**
     * Creates a subclass of DoubleTieError with a custom name.
     * Useful for creating domain-specific error classes.
     *
     * @param name - The name for the new error class
     * @returns A new error class extending DoubleTieError
     */
    static createSubclass(name: string): typeof DoubleTieError;
    /**
     * Format a validation error into a more user-friendly message.
     * Especially useful for displaying validation errors from the meta field.
     *
     * @param error - The DoubleTieError containing validation details
     * @returns A formatted string with validation error details
     */
    static formatValidationError(error: DoubleTieError): string;
}
//# sourceMappingURL=error-class.d.ts.map