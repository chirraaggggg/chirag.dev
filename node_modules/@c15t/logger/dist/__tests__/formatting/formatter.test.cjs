"use strict";
var __webpack_exports__ = {};
const external_vitest_namespaceObject = require("vitest");
const formatter_cjs_namespaceObject = require("../../formatting/formatter.cjs");
(0, external_vitest_namespaceObject.describe)('formatter', ()=>{
    (0, external_vitest_namespaceObject.describe)('formatArgs', ()=>{
        (0, external_vitest_namespaceObject.it)('should return empty string for empty args array', ()=>{
            (0, external_vitest_namespaceObject.expect)((0, formatter_cjs_namespaceObject.formatArgs)([])).toBe('');
        });
        (0, external_vitest_namespaceObject.it)('should format primitive values properly', ()=>{
            const result = (0, formatter_cjs_namespaceObject.formatArgs)([
                42,
                'test',
                true,
                null,
                void 0
            ]);
            (0, external_vitest_namespaceObject.expect)(result).toContain('  - 42');
            (0, external_vitest_namespaceObject.expect)(result).toContain('  - "test"');
            (0, external_vitest_namespaceObject.expect)(result).toContain('  - true');
            (0, external_vitest_namespaceObject.expect)(result).toContain('  - null');
            (0, external_vitest_namespaceObject.expect)(result).toContain('  - undefined');
        });
        (0, external_vitest_namespaceObject.it)('should format objects with indentation', ()=>{
            const obj = {
                name: 'test',
                nested: {
                    value: 123
                }
            };
            const result = (0, formatter_cjs_namespaceObject.formatArgs)([
                obj
            ]);
            (0, external_vitest_namespaceObject.expect)(result).toContain('"name": "test"');
            (0, external_vitest_namespaceObject.expect)(result).toContain('"nested": {');
            (0, external_vitest_namespaceObject.expect)(result).toContain('"value": 123');
        });
        (0, external_vitest_namespaceObject.it)('should handle error objects specially', ()=>{
            const error = new Error('Test error');
            const result = (0, formatter_cjs_namespaceObject.formatArgs)([
                error
            ]);
            (0, external_vitest_namespaceObject.expect)(result).toContain('Error: Test error');
            (0, external_vitest_namespaceObject.expect)(result).toContain(error.stack || '');
        });
    });
    (0, external_vitest_namespaceObject.describe)('registerFormatter and getFormatter', ()=>{
        (0, external_vitest_namespaceObject.it)('should register and retrieve a custom formatter', ()=>{
            const customFormatter = (level, message)=>`${level}: ${message}`;
            (0, formatter_cjs_namespaceObject.registerFormatter)('custom', customFormatter);
            const formatter = (0, formatter_cjs_namespaceObject.getFormatter)('custom');
            (0, external_vitest_namespaceObject.expect)(formatter).toBe(customFormatter);
            const result = formatter('error', 'Test message', []);
            (0, external_vitest_namespaceObject.expect)(result).toBe('error: Test message');
        });
        (0, external_vitest_namespaceObject.it)('should return default formatter when name not found', ()=>{
            const formatter = (0, formatter_cjs_namespaceObject.getFormatter)('non-existent');
            (0, external_vitest_namespaceObject.expect)(formatter).not.toBeNull();
            const result = formatter('info', 'Test', [], 'app');
            (0, external_vitest_namespaceObject.expect)(result).toContain('INFO');
            (0, external_vitest_namespaceObject.expect)(result).toContain('[app]');
            (0, external_vitest_namespaceObject.expect)(result).toContain('Test');
        });
    });
    (0, external_vitest_namespaceObject.describe)('formatMessage', ()=>{
        (0, external_vitest_namespaceObject.it)('should use the specified formatter', ()=>{
            const customFormatter = (level, message)=>`[CUSTOM] ${level}: ${message}`;
            (0, formatter_cjs_namespaceObject.registerFormatter)('test-formatter', customFormatter);
            const result = (0, formatter_cjs_namespaceObject.formatMessage)('error', 'Test message', [], 'test-formatter');
            (0, external_vitest_namespaceObject.expect)(result).toBe('[CUSTOM] error: Test message');
        });
        (0, external_vitest_namespaceObject.it)('should use default formatter when none specified', ()=>{
            const result = (0, formatter_cjs_namespaceObject.formatMessage)('info', 'Default format test');
            (0, external_vitest_namespaceObject.expect)(result).toContain('INFO');
            (0, external_vitest_namespaceObject.expect)(result).toContain('[c15t]');
            (0, external_vitest_namespaceObject.expect)(result).toContain('Default format test');
        });
        (0, external_vitest_namespaceObject.it)('should pass app name to formatter when provided', ()=>{
            const result = (0, formatter_cjs_namespaceObject.formatMessage)('warn', 'App name test', [], 'default', 'test-app');
            (0, external_vitest_namespaceObject.expect)(result).toContain('[test-app]');
        });
    });
});
for(var __webpack_i__ in __webpack_exports__)exports[__webpack_i__] = __webpack_exports__[__webpack_i__];
Object.defineProperty(exports, '__esModule', {
    value: true
});
