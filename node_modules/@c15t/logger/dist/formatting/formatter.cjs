"use strict";
var __webpack_require__ = {};
(()=>{
    __webpack_require__.n = (module)=>{
        var getter = module && module.__esModule ? ()=>module['default'] : ()=>module;
        __webpack_require__.d(getter, {
            a: getter
        });
        return getter;
    };
})();
(()=>{
    __webpack_require__.d = (exports1, definition)=>{
        for(var key in definition)if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports1, key)) Object.defineProperty(exports1, key, {
            enumerable: true,
            get: definition[key]
        });
    };
})();
(()=>{
    __webpack_require__.o = (obj, prop)=>Object.prototype.hasOwnProperty.call(obj, prop);
})();
(()=>{
    __webpack_require__.r = (exports1)=>{
        if ('undefined' != typeof Symbol && Symbol.toStringTag) Object.defineProperty(exports1, Symbol.toStringTag, {
            value: 'Module'
        });
        Object.defineProperty(exports1, '__esModule', {
            value: true
        });
    };
})();
var __webpack_exports__ = {};
__webpack_require__.r(__webpack_exports__);
__webpack_require__.d(__webpack_exports__, {
    registerFormatter: ()=>registerFormatter,
    getFormatter: ()=>getFormatter,
    formatMessage: ()=>formatMessage,
    formatArgs: ()=>formatArgs,
    nextjsFormatter: ()=>nextjsFormatter
});
const external_picocolors_namespaceObject = require("picocolors");
var external_picocolors_default = /*#__PURE__*/ __webpack_require__.n(external_picocolors_namespaceObject);
const formatters = {};
const defaultFormatter = (level, message, args, appName = 'c15t')=>{
    const now = new Date();
    const timestamp = `${now.toTimeString().split(' ')[0]}.${now.getMilliseconds().toString().padStart(3, '0')}`;
    const formattedArgs = formatArgs(args);
    let levelBadge;
    switch(level){
        case 'error':
            levelBadge = external_picocolors_default().bgRed(external_picocolors_default().black(` ${level.toUpperCase()} `));
            break;
        case 'warn':
            levelBadge = external_picocolors_default().bgYellow(external_picocolors_default().black(` ${level.toUpperCase()} `));
            break;
        case 'info':
            levelBadge = external_picocolors_default().bgBlue(external_picocolors_default().white(` ${level.toUpperCase()} `));
            break;
        case 'debug':
            levelBadge = external_picocolors_default().bgBlack(external_picocolors_default().white(` ${level.toUpperCase()} `));
            break;
        case 'success':
            levelBadge = external_picocolors_default().bgGreen(external_picocolors_default().black(` ${level.toUpperCase()} `));
            break;
        default:
            levelBadge = external_picocolors_default().bold(`[${String(level).toUpperCase()}]`);
            break;
    }
    return `${external_picocolors_default().gray(timestamp)} ${levelBadge} ${external_picocolors_default().bold(`[${appName}]`)} ${message}${formattedArgs}`;
};
const formatArgs = (args)=>{
    if (0 === args.length) return '';
    return `\n${args.map((arg)=>{
        if (null === arg) return '  - null';
        if (void 0 === arg) return '  - undefined';
        try {
            if (arg instanceof Error) return `  - ${arg.name}: ${arg.message}\n    ${arg.stack || ''}`;
            return `  - ${JSON.stringify(arg, null, 2).replace(/\n/g, '\n    ')}`;
        } catch  {
            return `  - [Object: ${Object.prototype.toString.call(arg)}]`;
        }
    }).join('\n')}`;
};
const nextjsFormatter = (level, message, args, appName = 'c15t')=>{
    const now = new Date();
    const timestamp = `${now.toTimeString().split(' ')[0]}.${now.getMilliseconds().toString().padStart(3, '0')}`;
    const formattedArgs = formatArgs(args);
    const levelMarker = `[${level.toUpperCase()}]`;
    const appMarker = `[${appName}]`;
    return `${timestamp} ${levelMarker} ${appMarker} ${message}${formattedArgs}`;
};
formatters.default = defaultFormatter;
formatters.nextjs = nextjsFormatter;
const registerFormatter = (name, formatter)=>{
    formatters[name] = formatter;
};
const getFormatter = (name = 'default')=>formatters[name] || defaultFormatter;
const formatMessage = (level, message, args = [], formatterName = 'default', appName)=>{
    const formatter = getFormatter(formatterName);
    return formatter(level, message, args, appName);
};
exports.formatArgs = __webpack_exports__.formatArgs;
exports.formatMessage = __webpack_exports__.formatMessage;
exports.getFormatter = __webpack_exports__.getFormatter;
exports.nextjsFormatter = __webpack_exports__.nextjsFormatter;
exports.registerFormatter = __webpack_exports__.registerFormatter;
for(var __webpack_i__ in __webpack_exports__)if (-1 === [
    "formatArgs",
    "formatMessage",
    "getFormatter",
    "nextjsFormatter",
    "registerFormatter"
].indexOf(__webpack_i__)) exports[__webpack_i__] = __webpack_exports__[__webpack_i__];
Object.defineProperty(exports, '__esModule', {
    value: true
});
